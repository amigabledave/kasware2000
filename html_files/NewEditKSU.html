{% extends "base.html" %}

{% block content %}


<br>
<div class="col-xs-12 col-sm-12 col-md-8 col-lg-8"  style="padding:0px">
<form class="form-horizontal" method="post" autocomplete="off">
	<input type="text" class="form-control hidden" name="ksu_id" value="{{ksu['id']}}">

	<div class="row">
		<div class="col-xs-12"><span class="NewEditKSU-title">{{ title + " Your KASware Standard Unit"}}</span></div>
	</div>
	<br>
			
	<div class="form-group">
		<div class="col-xs-12">
			<label>Description <span class="red">*</span></label>
			<input type="text" class="form-control" name="description" placeholder="e.g. Go for a run" required value="{% if ksu %}{{ksu.description}}{% endif %}">			
		</div>
	</div>

	<div class="form-group">
			<div class="col-xs-12 col-sm-6 col-md-4 col-lg-4">
				<label> KSU Type </label>
					<select class="form-control" name="value_type" id="value_type">
						{% for type in constants['l_KsuTypes'] %}
							{% if type[0] == ksu['ksu_type'] %}
								<option selected="selected" value="{{type[0]}}"> {{type[1]}} </option>
							{% else %}
								<option value="{{type[0]}}"> {{type[1]}} </option>
							{% endif %}
						{% endfor %}
					</select>	
			</div>

			<div class="col-xs-12 col-sm-6 col-md-4 col-lg-4">
				<label> Target Value </label>
					<select class="form-control" name="value_type">
					<option hidden >Unassigned</option>
					{% for value in constants['l_Values'] %}
						{% if value[0] == ksu['value_type'] %}
						<option selected="selected" value="{{value[0]}}"> {{value[1]}} </option>
						{% else %}
						<option value="{{value[0]}}"> {{value[1]}} </option>
						{% endif %}
					{% endfor %}
				</select>
			</div>

			<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
				<label> Tags </label>
				<input type="text" class="form-control" name="tags" placeholder="Tag, Tag, Tag" value="{% if ksu['tags']%}{{ksu['tags']}}{% endif %}">
			</div>
	</div>

	<!-- <div class="hidden" id="KeyA"> -->
	<div id="KeyA">
		<div class="form-group">
			<div class="col-xs-6 col-sm-6 col-md-4 col-lg-4">
				<label> Action type </label>
				<select class="form-control" name="repeats">
					<option value="KAS2"> To do once </option>
					<option value="KAS1"> To do many times </option>
					<option value="KAS3"> Reaction to have  </option>
					<option value="KAS4"> To avoid </option>
				</select> 			
			</div>
		</div>

		<div class="form-group">	

			<div class="col-xs-6 col-sm-6 col-md-4 col-lg-4">
				<label> Next Event </label>
				<input type="date" class="form-control" name="next_event" value="{% if ksu['next_event']%}{{ksu['next_event']}}{% endif %}">
			</div>	

			<div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
				<label> Preferred Time </label>
				<input type="time" class="form-control" name="best_time">	
			</div>	

			<div class="col-xs-6 col-sm-4 col-md-4 col-lg-4"> 
				<label> Time Cost <span class="red">*</span></label>			
				<input type="number" min="1" class="form-control" name="time_cost" placeholder="e.g. 5" required value="{% if ksu['time_cost']%}{{ksu['time_cost']}}{% else %}1{% endif %}">
			</div>

		</div>


		<div class="form-group">		

			<div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
				<label> Repeats <span class="red">*</span></label>
				<select id="repeats" class="form-control" name="repeats">
					{% for f in constants['l_repeats'] %}
						{% if f[0] == ksu['repeats'] %}
							<option value="{{f[0]}}" selected="selected"> {{f[1]}} </option>
						{% else %}
							<option value="{{f[0]}}"> {{f[1]}} </option>
						{% endif %}
					{% endfor %}
				</select> 

			</div>

			<div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 hidden" id="repeats_on">
		 		<label> On
		 		<div class="checkbox"> 	 		
		 			<label> <input type="checkbox" name="repeats_on_Mon"><b> Mon </b></label> 
		 			<label> <input type="checkbox" name="repeats_on_Tue"><b> Tue </b></label> 
		 			<label> <input type="checkbox" name="repeats_on_Wed"><b> Wed </b></label> 
		 			<label> <input type="checkbox" name="repeats_on_Thu"><b> Thu </b></label> 
		 			<label> <input type="checkbox" name="repeats_on_Fri"><b> Fri </b></label> 
		 			<label> <input type="checkbox" name="repeats_on_Sat"><b> Sat </b></label> 
		 			<label> <input type="checkbox" name="repeats_on_Sun"><b> Sun </b></label> 
		 		</div>
		 		</label>
			</div>


			<div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">

				<div class="row">
					<div class="col-xs-12 col-sm-6 col-md-5 col-lg-5">
						<label> Every <span class="red">*</span></label>
						<input type="number" min="1" class="form-control" name="repeats_every" placeholder="1" required value="{% if ksu['repeats_every']%}{{ksu['repeats_every']}}{% else %}1{% endif %}"> 		
					</div>
					
					<div id="repeats_every_footnote" class="col-xs-12 col-sm-6 col-md-6 col-lg-6" style="position: absolute; bottom: 0; right: 0; padding-left: 0; font-style: italic;"> 
					Days
					</div>									
				</div>		
			</div>

		</div>


		<div class="form-group">

			<div class="col-xs-6 col-sm-3 col-md-3 col-lg-3">
		 		<div class="checkbox"> 
		 			<label> <input type="checkbox" name="in_upcoming"{% if ksu['in_upcoming']%}checked{% endif %}> <b> Show in Mission </b> </label> 
		 		</div>
			</div>

			<div class="col-xs-6 col-sm-3 col-md-3 col-lg-3">
		 		<div class="checkbox"> 
		 			<label> <input type="checkbox" name="any_any"{% if ksu['any_any']%}checked{% endif %}> <b> Anywhere Anytime </b> </label> 
		 		</div>		
			</div>

		 	<div class="col-xs-6 col-sm-3 col-md-3 col-lg-3 col-lg-3">
		 		<div class="checkbox"> 
		 			<label> <input type="checkbox" name="is_critical" {% if ksu['is_critical']%}checked{% endif %}> <b> Is Critical </b> </label> 
		 		</div>
			</div>

			<div class="col-xs-6 col-sm-3 col-md-3 col-lg-3">
		 		<div class="checkbox"> 
		 			<label> <input type="checkbox" name="is_private"{% if ksu['is_private']%}checked{% endif %}> <b> Is Private </b> </label> 
		 		</div>
			</div>

		</div>
		
	</div>


	<div class="form-group">
		<div class="col-xs-12">
			<label> Comments </label>
			<textarea class="form-control" name="comments">{% if ksu['comments']%}{{ksu['comments']}}{% endif %}</textarea> 
		</div>
	</div>

	<br>

			{% if title=='Define' %}
			  	<div class="form-group">
					<div class="col-xs-12 btn-group">
						<button type="submit" class="btn btn-success btn-lg respect-space" name="action_description" value="Create" style="margin-right: 8px;"> Create </button>
						<button type="submit" class="btn btn-success btn-lg respect-space" name="action_description" value="Create_Plus" style="margin-right: 8px;"> Create + </button> 
						<button type="submit" class="btn btn-danger btn-lg  respect-space" name="action_description" value="Discard"> Discard </button> 
					</div>
				</div>

			{% endif%}


			{% if title=='Edit' %}
				<div class="form-group">
					<div class="col-xs-12 btn-group">
						<button type="submit" class="btn btn-success btn-lg respect-space" name="action_description" value="Save">    Save    </button>
						<button type="submit" class="btn btn-warning btn-lg  respect-space" name="action_description" value="Discard"> Discard </button> 
						<button type="submit" class="btn btn-danger btn-lg  respect-space" name="action_description" value="Delete"> Delete </button> 
					</div>
				</div>
			{% endif%}

</form>
</div>

{% if input_error %}
	<div class="row">
		<div class="col-xs-12 text-center error">{{input_error}}</div>
	</div>
{% endif %}


{% endblock %}